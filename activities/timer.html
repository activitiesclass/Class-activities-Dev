<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="theme-color" content="#00796B"/>
  <meta name="description" content="Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ - Ø£Ø¯Ø§Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª ÙÙŠ Ø§Ù„ØµÙ"/>
  <meta name="keywords" content="Ù…Ø¤Ù‚Øª, ÙˆÙ‚Øª, ØªØ¹Ù„ÙŠÙ…, ØµÙ, ØªÙØ§Ø¹Ù„ÙŠ, Ø¹ÙÙ…Ø§Ù†"/>
  <meta name="author" content=""/>

  <title>Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ - Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</title>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- ÙØ§ÙÙŠÙƒÙˆÙ† -->
  <link rel="icon" type="image/png" href="../assets/media/images/school-logo.png">
  
  <!-- Responsive CSS Framework -->
  <link rel="stylesheet" href="../assets/css/responsive.css">

  <style>
    :root {
      /* Ù†Ø¸Ø§Ù… Ø£Ù„ÙˆØ§Ù† Ø¹ÙÙ…Ø§Ù†ÙŠ Ù…ØªØ·ÙˆØ± */
      --primary-color: #00796B;
      --primary-light: #4DB6AC;
      --primary-dark: #004D40;
      --secondary-color: #FF5722;
      --accent-color: #FFD700;
      --success-color: #4CAF50;
      --warning-color: #FF9800;
      --error-color: #F44336;
      --info-color: #2196F3;
      --text-primary: #212121;
      --text-secondary: #757575;
      --text-light: #FAFAFA;
      --background-light: #FAFAFA;
      --surface-color: #FFFFFF;
      --shadow-light: rgba(0, 0, 0, 0.1);
      --shadow-medium: rgba(0, 0, 0, 0.2);
      --shadow-dark: rgba(0, 0, 0, 0.3);

      /* Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ®Ø·ÙŠØ· */
      --border-radius: 16px;
      --border-radius-small: 8px;
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;
      --spacing-2xl: 48px;

      /* Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª */
      --transition-fast: 0.2s ease-out;
      --transition-normal: 0.3s ease-out;
      --transition-slow: 0.5s ease-out;

      /* Ø§Ù„Ø®Ø·ÙˆØ· */
      --font-xs: 0.75rem;
      --font-sm: 0.875rem;
      --font-base: 1rem;
      --font-lg: 1.125rem;
      --font-xl: 1.25rem;
      --font-2xl: 1.5rem;
      --font-3xl: 1.875rem;
      --font-4xl: 2.25rem;
      --font-5xl: 3rem;
      --font-6xl: 3.75rem;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg,
        #e0f7fa 0%,
        #b2dfdb 25%,
        #80cbc4 50%,
        #4db6ac 75%,
        #26a69a 100%);
      background-attachment: fixed;
      color: var(--text-primary);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 121, 107, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 60%, rgba(255, 87, 34, 0.1) 0%, transparent 50%);
      animation: backgroundShift 20s ease-in-out infinite;
      z-index: -1;
    }

    @keyframes backgroundShift {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(-20px, 20px) rotate(1deg); }
      50% { transform: translate(20px, -20px) rotate(-1deg); }
      75% { transform: translate(-10px, -10px) rotate(0.5deg); }
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
    .control-buttons {
      position: fixed;
      top: var(--spacing-md);
      display: flex;
      gap: var(--spacing-sm);
      z-index: 1000;
    }

    .control-buttons.left {
      left: var(--spacing-md);
    }

    .control-buttons.right {
      right: var(--spacing-md);
    }

    .control-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: var(--primary-color);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px var(--shadow-medium);
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
    }

    .control-btn:hover {
      transform: translateY(-3px) scale(1.05);
      background: var(--primary-color);
      color: white;
      box-shadow: 0 8px 20px var(--shadow-dark);
    }

    .control-btn:active {
      transform: translateY(0) scale(0.95);
    }

    /* Ø§Ù„Ø­Ø§ÙˆÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    .main-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--spacing-xl) var(--spacing-lg);
      position: relative;
      z-index: 10;
    }

    /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
    .header {
      text-align: center;
      margin-bottom: var(--spacing-xl);
      animation: slideDown 0.8s ease-out;
    }

    .header-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      box-shadow: 0 8px 32px var(--shadow-medium);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    .header-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
    }

    .header-title {
      font-size: clamp(2rem, 5vw, 2.5rem);
      font-weight: 700;
      margin-bottom: var(--spacing-sm);
      color: var(--primary-color);
      text-shadow: 2px 2px 4px var(--shadow-light);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .header-subtitle {
      font-size: clamp(1rem, 3vw, 1.2rem);
      color: var(--text-secondary);
      font-weight: 400;
      line-height: 1.5;
    }

    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-settings {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.98) 0%, 
        rgba(232, 245, 233, 0.95) 50%,
        rgba(255, 255, 255, 0.98) 100%);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      box-shadow: 
        0 8px 32px rgba(0, 121, 107, 0.12),
        0 2px 8px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(0, 121, 107, 0.1);
      animation: slideUp 0.8s ease-out 0.2s both;
    }

    .timer-settings h3 {
      font-size: 1.4rem;
      color: var(--primary-color);
      margin-bottom: var(--spacing-lg);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      font-weight: 600;
    }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .setting-group {
      background: rgba(255, 255, 255, 0.8);
      border-radius: var(--border-radius-small);
      padding: var(--spacing-lg);
      border: 1px solid rgba(0, 121, 107, 0.1);
      transition: all var(--transition-normal);
    }

    .setting-group:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(0, 121, 107, 0.15);
      border-color: var(--primary-light);
    }

    .setting-label {
      display: block;
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--spacing-sm);
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .timer-select {
      width: 100%;
      padding: var(--spacing-md);
      border: 2px solid rgba(0, 121, 107, 0.2);
      border-radius: var(--border-radius-small);
      background: white;
      color: var(--text-primary);
      font-size: 1rem;
      font-family: 'Cairo', sans-serif;
      cursor: pointer;
      transition: all var(--transition-normal);
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: left 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-left: 2.5rem;
    }

    .timer-select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(0, 121, 107, 0.1);
    }

    .timer-select:hover {
      border-color: var(--primary-light);
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ */
    .preset-times {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: var(--spacing-md);
      margin-top: var(--spacing-lg);
    }

    .preset-btn {
      background: linear-gradient(135deg, var(--secondary-color), #FF7043);
      color: white;
      border: none;
      padding: var(--spacing-md);
      border-radius: var(--border-radius-small);
      font-family: 'Cairo', sans-serif;
      font-size: var(--font-sm);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      box-shadow: 0 2px 8px rgba(255, 87, 34, 0.3);
      position: relative;
      overflow: hidden;
    }

    .preset-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .preset-btn:hover::before {
      left: 100%;
    }

    .preset-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 6px 16px rgba(255, 87, 34, 0.4);
      background: linear-gradient(135deg, #FF7043, var(--secondary-color));
    }

    .preset-btn:active {
      transform: translateY(0) scale(0.95);
    }

    /* Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-display {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-2xl);
      margin-bottom: var(--spacing-xl);
      box-shadow: 0 8px 32px var(--shadow-medium);
      backdrop-filter: blur(15px);
      animation: slideUp 0.8s ease-out 0.4s both;
      position: relative;
      overflow: hidden;
    }

    .timer-display::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(0, 121, 107, 0.1) 50%, 
        transparent 70%);
      animation: shimmer 4s infinite;
      pointer-events: none;
    }

    @keyframes shimmer {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-circle-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin-bottom: var(--spacing-lg);
    }

    .timer-circle {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .timer-circle circle {
      fill: none;
      stroke-width: 12;
      stroke-linecap: round;
    }

    .timer-bg-circle {
      stroke: rgba(0, 121, 107, 0.2);
    }

    .timer-progress-circle {
      stroke: var(--primary-color);
      stroke-dasharray: 942; /* 2Ï€ Ã— 150 */
      stroke-dashoffset: 942;
      transition: all var(--transition-normal);
      filter: drop-shadow(0 0 10px rgba(0, 121, 107, 0.5));
    }

    .timer-progress-circle.warning {
      stroke: var(--warning-color);
      animation: warningPulse 1s ease-in-out infinite;
    }

    .timer-progress-circle.danger {
      stroke: var(--error-color);
      animation: dangerPulse 0.5s ease-in-out infinite;
    }

    @keyframes warningPulse {
      0%, 100% { 
        filter: drop-shadow(0 0 10px rgba(255, 152, 0, 0.5));
        stroke-width: 12;
      }
      50% { 
        filter: drop-shadow(0 0 20px rgba(255, 152, 0, 0.8));
        stroke-width: 14;
      }
    }

    @keyframes dangerPulse {
      0%, 100% { 
        filter: drop-shadow(0 0 15px rgba(244, 67, 54, 0.7));
        stroke-width: 12;
      }
      50% { 
        filter: drop-shadow(0 0 25px rgba(244, 67, 54, 1));
        stroke-width: 16;
      }
    }

    /* Ù†Øµ Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-time {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: clamp(2.5rem, 8vw, 4rem);
      font-weight: 700;
      color: var(--primary-color);
      text-shadow: 2px 2px 8px rgba(0, 121, 107, 0.3);
      font-variant-numeric: tabular-nums;
      z-index: 10;
      transition: all var(--transition-normal);
    }

    .timer-time.warning {
      color: var(--warning-color);
      animation: timeWarning 1s ease-in-out infinite;
    }

    .timer-time.danger {
      color: var(--error-color);
      animation: timeDanger 0.5s ease-in-out infinite;
      text-shadow: 
        2px 2px 8px rgba(244, 67, 54, 0.5),
        0 0 20px rgba(244, 67, 54, 0.7);
    }

    @keyframes timeWarning {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        text-shadow: 2px 2px 8px rgba(255, 152, 0, 0.3);
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.05);
        text-shadow: 2px 2px 12px rgba(255, 152, 0, 0.6);
      }
    }

    @keyframes timeDanger {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        text-shadow: 
          2px 2px 8px rgba(244, 67, 54, 0.5),
          0 0 20px rgba(244, 67, 54, 0.7);
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.1);
        text-shadow: 
          2px 2px 12px rgba(244, 67, 54, 0.8),
          0 0 30px rgba(244, 67, 54, 1);
      }
    }

    /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø§Ù„Ø© */
    .status-indicator {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      padding: var(--spacing-md) var(--spacing-lg);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 249, 250, 0.9));
      border: 2px solid rgba(0, 121, 107, 0.2);
      border-radius: var(--border-radius-small);
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-primary);
      transition: all var(--transition-normal);
      margin-bottom: var(--spacing-lg);
      backdrop-filter: blur(10px);
    }

    .status-indicator.idle {
      border-color: var(--text-secondary);
      color: var(--text-secondary);
    }

    .status-indicator.running {
      border-color: var(--success-color);
      background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(76, 175, 80, 0.05));
      color: var(--success-color);
      animation: runningGlow 2s ease-in-out infinite;
    }

    .status-indicator.paused {
      border-color: var(--warning-color);
      background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 152, 0, 0.05));
      color: var(--warning-color);
    }

    .status-indicator.finished {
      border-color: var(--accent-color);
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1));
      color: #B8860B;
      animation: finishedCelebration 1s ease-in-out infinite;
    }

    @keyframes runningGlow {
      0%, 100% { box-shadow: 0 0 10px rgba(76, 175, 80, 0.3); }
      50% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.5); }
    }

    @keyframes finishedCelebration {
      0%, 100% { 
        transform: scale(1);
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
      }
      50% { 
        transform: scale(1.02);
        box-shadow: 0 0 25px rgba(255, 215, 0, 0.8);
      }
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-controls {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-md);
      justify-content: center;
      margin-bottom: var(--spacing-xl);
      animation: slideUp 0.8s ease-out 0.6s both;
    }

    .timer-btn {
      padding: var(--spacing-md) var(--spacing-xl);
      font-size: clamp(1rem, 3vw, 1.2rem);
      font-weight: 600;
      border: none;
      border-radius: var(--border-radius-small);
      cursor: pointer;
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      min-width: 140px;
      justify-content: center;
      box-shadow: 0 4px 12px var(--shadow-light);
      font-family: 'Cairo', sans-serif;
      position: relative;
      overflow: hidden;
    }

    .timer-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .timer-btn:hover::before {
      left: 100%;
    }

    .timer-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .timer-btn:disabled::before {
      display: none;
    }

    .start-btn {
      background: linear-gradient(45deg, var(--success-color), #66BB6A);
      color: white;
    }

    .start-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
    }

    .pause-btn {
      background: linear-gradient(45deg, var(--warning-color), #FFB74D);
      color: white;
    }

    .pause-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(255, 152, 0, 0.4);
    }

    .resume-btn {
      background: linear-gradient(45deg, var(--info-color), #42A5F5);
      color: white;
    }

    .sound-settings-btn {
      background: linear-gradient(45deg, #8E24AA, #BA68C8);
      color: white;
      position: relative;
      overflow: hidden;
    }

    .sound-settings-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(142, 36, 170, 0.4);
    }

    .sound-settings-btn.active {
      background: linear-gradient(45deg, #5E35B1, #7E57C2);
      transform: scale(0.95);
      box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-md);
      border-bottom: 2px solid var(--primary-color);
    }

    .close-sound-settings-btn {
      background: transparent;
      border: none;
      color: var(--text-light);
      font-size: 1.2rem;
      cursor: pointer;
      padding: var(--spacing-sm);
      border-radius: 50%;
      transition: all var(--transition-normal);
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .close-sound-settings-btn:hover {
      background: rgba(231, 76, 60, 0.1);
      color: var(--danger-color);
      transform: scale(1.1);
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª */
    #soundSettingsPanel {
      transform-origin: top center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(142, 36, 170, 0.2);
    }

    .sound-settings-btn span:first-child {
      transition: transform var(--transition-normal);
    }

    .sound-settings-btn.active span:first-child {
      transform: scale(1.2);
    }

    .resume-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.4);
    }

    .reset-btn {
      background: linear-gradient(45deg, var(--text-secondary), #9E9E9E);
      color: white;
    }

    .reset-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(158, 158, 158, 0.4);
    }

    .stop-btn {
      background: linear-gradient(45deg, var(--error-color), #EF5350);
      color: white;
    }

    .stop-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4);
    }
    .stop-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4);
    }

    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© */
    .advanced-settings {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.98) 0%, 
        rgba(240, 248, 255, 0.95) 50%,
        rgba(255, 255, 255, 0.98) 100%);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      box-shadow: 
        0 8px 32px rgba(33, 150, 243, 0.12),
        0 2px 8px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(33, 150, 243, 0.1);
      animation: slideUp 0.8s ease-out 0.8s both;
    }

    .advanced-settings h3 {
      font-size: 1.3rem;
      color: var(--info-color);
      margin-bottom: var(--spacing-lg);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      font-weight: 600;
    }

    .sound-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--spacing-md);
    }

    .sound-control {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--spacing-sm) var(--spacing-md);
      background: rgba(255, 255, 255, 0.8);
      border-radius: var(--border-radius-small);
      border: 1px solid rgba(33, 150, 243, 0.1);
      transition: all var(--transition-normal);
    }

    .sound-control:hover {
      background: rgba(33, 150, 243, 0.05);
      border-color: rgba(33, 150, 243, 0.2);
      transform: translateY(-1px);
    }

    .sound-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
      cursor: pointer;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      border-radius: 24px;
      transition: all var(--transition-normal);
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      border-radius: 50%;
      transition: all var(--transition-normal);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch input:checked + .toggle-slider {
      background: linear-gradient(45deg, var(--info-color), #42A5F5);
    }

    .toggle-switch input:checked + .toggle-slider:before {
      transform: translateX(20px);
      box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
    }

    .toggle-switch:hover .toggle-slider {
      box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
    }

    /* Ø´Ø±ÙŠØ· Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª */
    .volume-control {
      margin-top: var(--spacing-md);
      grid-column: 1 / -1;
    }

    .volume-slider {
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      background: linear-gradient(to right, #ccc, var(--info-color));
      border-radius: var(--border-radius-small);
      outline: none;
      transition: all var(--transition-normal);
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: var(--info-color);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 6px var(--shadow-medium);
      transition: all var(--transition-fast);
    }

    .volume-slider::-webkit-slider-thumb:hover {
      transform: scale(1.2);
      box-shadow: 0 4px 12px var(--shadow-dark);
    }

    .volume-value {
      text-align: center;
      margin-top: var(--spacing-sm);
      font-weight: 600;
      color: var(--info-color);
      font-size: 0.9rem;
    }

    /* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¤Ù‚Øª */
    .timer-stats {
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.98) 0%, 
        rgba(248, 250, 252, 0.95) 50%,
        rgba(255, 255, 255, 0.98) 100%);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      box-shadow: 
        0 8px 32px rgba(158, 158, 158, 0.12),
        0 2px 8px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(158, 158, 158, 0.1);
      animation: slideUp 0.8s ease-out 1s both;
    }

    .timer-stats h3 {
      font-size: 1.3rem;
      color: var(--text-secondary);
      margin-bottom: var(--spacing-lg);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      font-weight: 600;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: var(--spacing-md);
    }

    .stat-item {
      background: linear-gradient(135deg, rgba(158, 158, 158, 0.1), rgba(189, 189, 189, 0.1));
      padding: var(--spacing-lg);
      border-radius: var(--border-radius-small);
      border: 2px solid rgba(158, 158, 158, 0.2);
      text-align: center;
      transition: all var(--transition-normal);
    }

    .stat-item:hover {
      transform: translateY(-2px);
      border-color: var(--text-secondary);
      box-shadow: 0 4px 12px rgba(158, 158, 158, 0.2);
    }

    .stat-number {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-secondary);
      margin-bottom: var(--spacing-xs);
      font-variant-numeric: tabular-nums;
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      font-weight: 500;
      opacity: 0.8;
    }

    /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ */
    .completion-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-normal);
      backdrop-filter: blur(5px);
    }

    .completion-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: linear-gradient(135deg, white, #f8f9fa);
      border-radius: var(--border-radius);
      padding: var(--spacing-2xl);
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: scale(0.8);
      transition: all var(--transition-normal);
      max-width: 400px;
      margin: var(--spacing-lg);
      position: relative;
      overflow: hidden;
    }

    .completion-modal.show .modal-content {
      transform: scale(1);
    }

    .modal-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--success-color), var(--accent-color), var(--primary-color));
    }

    .modal-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--success-color);
      margin-bottom: var(--spacing-md);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .modal-message {
      font-size: 1.2rem;
      color: var(--text-secondary);
      margin-bottom: var(--spacing-xl);
      line-height: 1.5;
    }

    .modal-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: center;
      flex-wrap: wrap;
    }

    .modal-btn {
      padding: var(--spacing-md) var(--spacing-xl);
      border: none;
      border-radius: var(--border-radius-small);
      font-family: 'Cairo', sans-serif;
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-normal);
      min-width: 100px;
    }

    .modal-btn.primary {
      background: linear-gradient(45deg, var(--success-color), #66BB6A);
      color: white;
    }

    .modal-btn.secondary {
      background: linear-gradient(45deg, var(--text-secondary), #9E9E9E);
      color: white;
    }

    .modal-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--shadow-medium);
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© */
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© */
    @media (max-width: 768px) {
      .main-container {
        padding: var(--spacing-lg) var(--spacing-md);
      }
      
      .timer-circle-container {
        width: 250px;
        height: 250px;
      }
      
      .timer-time {
        font-size: clamp(2rem, 6vw, 3rem);
      }
      
      .timer-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .timer-btn {
        width: 100%;
        max-width: 280px;
      }
      
      .settings-grid {
        grid-template-columns: 1fr;
      }
      
      .preset-times {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .sound-controls {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .control-btn {
        width: 45px;
        height: 45px;
        font-size: 18px;
      }
    }

    @media (max-width: 480px) {
      .header-card {
        padding: var(--spacing-lg);
      }
      
      .timer-circle-container {
        width: 220px;
        height: 220px;
      }
      
      .timer-time {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
      }
      
      .preset-times {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .modal-content {
        padding: var(--spacing-lg);
        margin: var(--spacing-md);
      }
      
      .modal-title {
        font-size: 1.6rem;
      }
      
      .modal-message {
        font-size: 1rem;
      }
      
      .modal-buttons {
        flex-direction: column;
      }
      
      .modal-btn {
        width: 100%;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø¯Ø§Ø¡ */
    .timer-btn,
    .control-btn,
    .preset-btn {
      will-change: transform;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„Ù„ÙˆØµÙˆÙ„ÙŠØ© */
    .timer-btn:focus,
    .control-btn:focus,
    .timer-select:focus,
    .preset-btn:focus,
    .volume-slider:focus {
      outline: 3px solid rgba(0, 121, 107, 0.5);
      outline-offset: 2px;
    }

    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø± */
    .click-effect {
      position: relative;
      overflow: hidden;
    }

    .click-effect::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(0, 121, 107, 0.3);
      transform: translate(-50%, -50%);
      animation: ripple 0.6s ease-out;
    }

    @keyframes ripple {
      to {
        width: 300px;
        height: 300px;
        opacity: 0;
      }
    }

    /* Ø­Ø§Ù„Ø§Øª Ø®Ø§ØµØ© */
    .celebrating {
      animation: celebrate 1s ease-out;
    }

    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.05) rotate(-2deg); }
      50% { transform: scale(1.1) rotate(2deg); }
      75% { transform: scale(1.05) rotate(-1deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØµÙˆØª Ø§Ù„Ø¨ØµØ±ÙŠØ© */
    .sound-wave {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      border: 2px solid var(--primary-color);
      border-radius: 50%;
      opacity: 0;
      animation: soundWave 1s ease-out;
    }

    @keyframes soundWave {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) scale(3);
        opacity: 0;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ */
    
    /* Ø´Ø§Ø´Ø§Øª ÙƒØ¨ÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (1200px+) */
    @media (min-width: 1200px) {
      .main-container {
        max-width: 1100px;
        padding: var(--spacing-3xl);
      }

      .timer-circle-container {
        width: 350px;
        height: 350px;
      }

      .timer-time {
        font-size: 3.5rem;
      }

      .timer-controls {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-xl);
      }

      .timer-btn {
        padding: var(--spacing-lg) var(--spacing-xl);
        font-size: var(--font-size-lg);
      }

      .preset-times {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-lg);
      }

      .stats-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-xl);
      }
    }

    /* Ø´Ø§Ø´Ø§Øª ÙƒØ¨ÙŠØ±Ø© (1024px - 1199px) */
    @media (max-width: 1199px) and (min-width: 1024px) {
      .main-container {
        max-width: 900px;
        padding: var(--spacing-2xl);
      }

      .timer-circle-container {
        width: 300px;
        height: 300px;
      }

      .timer-time {
        font-size: 2.8rem;
      }

      .timer-controls {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-lg);
      }

      .timer-btn {
        padding: var(--spacing-md) var(--spacing-lg);
        font-size: var(--font-size-base);
      }

      .preset-times {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-md);
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-lg);
      }
    }

    /* ØªØ§Ø¨Ù„Øª (768px - 1023px) */
    @media (max-width: 1023px) and (min-width: 768px) {
      .main-container {
        max-width: 700px;
        padding: var(--spacing-xl);
        margin: 0 auto;
      }

      .timer-circle-container {
        width: 250px;
        height: 250px;
      }

      .timer-time {
        font-size: 2.2rem;
      }

      .timer-controls {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-lg);
      }

      .timer-btn {
        padding: var(--spacing-md);
        font-size: var(--font-size-sm);
      }

      .timer-btn span:last-child {
        font-size: var(--font-size-xs);
      }

      .preset-times {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-md);
      }

      .preset-btn {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--font-size-sm);
      }

      .settings-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
      }

      .header-title {
        font-size: var(--font-size-xl);
      }

      .header-subtitle {
        font-size: var(--font-size-base);
      }
    }

    /* Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙƒØ¨ÙŠØ± (480px - 767px) */
    @media (max-width: 767px) and (min-width: 480px) {
      .main-container {
        max-width: 100%;
        margin: 0 var(--spacing-md);
        padding: var(--spacing-lg);
      }

      .timer-circle-container {
        width: 200px;
        height: 200px;
      }

      .timer-time {
        font-size: 1.8rem;
      }

      .timer-controls {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
      }

      .timer-btn {
        width: 100%;
        padding: var(--spacing-md) var(--spacing-lg);
        font-size: var(--font-size-base);
        justify-content: center;
      }

      .timer-btn span:first-child {
        font-size: var(--font-size-xl);
      }

      .preset-times {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
      }

      .preset-btn {
        padding: var(--spacing-sm);
        font-size: var(--font-size-sm);
      }

      .settings-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-sm);
      }

      .setting-group {
        padding: var(--spacing-md);
      }

      .sound-controls {
        grid-template-columns: 1fr;
        gap: var(--spacing-sm);
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
      }

      .stat-item {
        padding: var(--spacing-md);
      }

      .header-title {
        font-size: var(--font-size-lg);
      }

      .header-title span:first-child {
        font-size: var(--font-size-2xl);
      }

      .header-subtitle {
        font-size: var(--font-size-sm);
        line-height: 1.4;
      }

      .status-indicator {
        font-size: var(--font-size-sm);
      }
    }

    /* Ù…ÙˆØ¨Ø§ÙŠÙ„ ØµØºÙŠØ± (320px - 479px) */
    @media (max-width: 479px) {
      .main-container {
        margin: 0 var(--spacing-sm);
        padding: var(--spacing-md);
      }

      .timer-circle-container {
        width: 180px;
        height: 180px;
      }

      .timer-time {
        font-size: 1.5rem;
      }

      .timer-controls {
        gap: var(--spacing-sm);
      }

      .timer-btn {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--font-size-sm);
        min-height: 50px;
      }

      .timer-btn span:first-child {
        font-size: var(--font-size-lg);
      }

      .timer-btn span:last-child {
        font-size: var(--font-size-xs);
      }

      .preset-times {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-xs);
      }

      .preset-btn {
        padding: var(--spacing-xs) var(--spacing-sm);
        font-size: var(--font-size-xs);
      }

      .timer-settings,
      .timer-display,
      .advanced-settings,
      .timer-stats {
        padding: var(--spacing-sm);
      }

      .header-card {
        padding: var(--spacing-md);
      }

      .header-title {
        font-size: var(--font-size-base);
      }

      .header-title span:first-child {
        font-size: var(--font-size-xl);
      }

      .header-subtitle {
        font-size: var(--font-size-xs);
        line-height: 1.3;
      }

      .setting-group {
        padding: var(--spacing-sm);
      }

      .setting-label {
        font-size: var(--font-size-xs);
      }

      .timer-select {
        font-size: var(--font-size-xs);
        padding: var(--spacing-xs) var(--spacing-sm);
      }

      .sound-control {
        padding: var(--spacing-xs);
      }

      .sound-label {
        font-size: var(--font-size-xs);
      }

      .volume-value {
        font-size: var(--font-size-xs);
      }

      .stats-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-xs);
      }

      .stat-item {
        padding: var(--spacing-sm);
      }

      .stat-number {
        font-size: var(--font-size-lg);
      }

      .stat-label {
        font-size: var(--font-size-xs);
      }

      .status-indicator {
        font-size: var(--font-size-xs);
        padding: var(--spacing-sm);
      }

      .control-buttons {
        top: var(--spacing-xs);
      }

      .control-btn {
        width: 35px;
        height: 35px;
        font-size: var(--font-size-sm);
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„Ù…Ø³ÙŠØ© */
    @media (hover: none) and (pointer: coarse) {
      .timer-btn {
        min-height: 60px;
        border-width: 3px;
      }

      .timer-btn:hover {
        transform: none;
      }

      .timer-btn:active {
        transform: scale(0.98);
      }

      .preset-btn {
        min-height: 48px;
        border-width: 2px;
      }

      .control-btn {
        min-width: 44px;
        min-height: 44px;
      }

      .timer-select {
        min-height: 48px;
        border-width: 2px;
      }

      .volume-slider {
        height: 8px;
      }

      .volume-slider::-webkit-slider-thumb {
        width: 24px;
        height: 24px;
      }

      .volume-slider::-moz-range-thumb {
        width: 24px;
        height: 24px;
      }

      .toggle-switch {
        min-width: 50px;
        min-height: 28px;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
    @media screen and (max-height: 500px) and (orientation: landscape) {
      .header-card {
        padding: var(--spacing-sm);
      }

      .header-title {
        font-size: var(--font-size-base);
        margin-bottom: var(--spacing-xs);
      }

      .header-subtitle {
        font-size: var(--font-size-sm);
      }

      .main-container {
        padding: var(--spacing-md);
      }

      .timer-circle-container {
        width: 150px;
        height: 150px;
      }

      .timer-time {
        font-size: 1.2rem;
      }

      .timer-controls {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-xs);
      }

      .timer-btn {
        padding: var(--spacing-xs) var(--spacing-sm);
        font-size: var(--font-size-xs);
        min-height: 40px;
      }

      .timer-btn span:first-child {
        font-size: var(--font-size-lg);
      }

      .preset-times {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-xs);
      }

      .preset-btn {
        padding: var(--spacing-xs);
        font-size: var(--font-size-xs);
      }

      .timer-settings,
      .advanced-settings,
      .timer-stats {
        padding: var(--spacing-sm);
      }

      .settings-grid,
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-xs);
      }

      .setting-group,
      .stat-item {
        padding: var(--spacing-xs);
      }

      .status-indicator {
        padding: var(--spacing-xs);
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„ÙƒØ«Ø§ÙØ© */
    @media (-webkit-min-device-pixel-ratio: 2),
           (min-resolution: 192dpi) {
      .timer-btn {
        border-width: 1.5px;
      }

      .preset-btn {
        border-width: 1.5px;
      }

      .control-btn {
        border-width: 1.5px;
      }

      .timer-select {
        border-width: 1.5px;
      }

      .timer-circle-container::before {
        border-width: 3px;
      }
    }

    /* RTL layout optimizations for responsive design */
    [dir="rtl"] .timer-controls {
      direction: rtl;
    }

    [dir="rtl"] .preset-times {
      direction: rtl;
    }

    [dir="rtl"] .settings-grid {
      direction: rtl;
    }

    [dir="rtl"] .stats-grid {
      direction: rtl;
    }

    @media (max-width: 767px) {
      [dir="rtl"] .timer-controls {
        direction: ltr;
      }

      [dir="rtl"] .preset-times {
        direction: ltr;
      }
    }
  </style>
</head>

<body class="responsive-body touch-device">
  <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
  <div class="control-buttons right mobile-optimized">
    <button class="control-btn touch-target" id="backBtn" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      ğŸ 
    </button>
  </div>

  <div class="control-buttons left mobile-optimized">
    <button class="control-btn touch-target" id="fullscreenBtn" title="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©" aria-label="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©">
      â›¶
    </button>
    <button class="control-btn touch-target" id="soundToggleBtn" title="ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª" aria-label="ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØµÙˆØª">
      ğŸ”Š
    </button>
  </div>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div class="main-container responsive-container">
    <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
    <header class="header mobile-header">
      <div class="header-card mobile-card">
        <h1 class="header-title mobile-heading">
          <span>â±ï¸</span>
          <span>Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ</span>
        </h1>
        <p class="header-subtitle mobile-subtitle">
          Ø£Ø¯Ø§Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØµÙÙŠØ© Ù…Ø¹ ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙˆØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ©
        </p>
      </div>
    </header>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª -->
    <div class="timer-settings mobile-card">
      <h3 class="mobile-heading">
        <span>âš™ï¸</span>
        <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª</span>
      </h3>
      
      <div class="settings-grid mobile-grid">
        <div class="setting-group mobile-input">
          <label class="setting-label mobile-label">
            <span>ğŸ”„</span>
            <span>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‚Øª</span>
          </label>
          <select class="timer-select touch-target" id="timerMode">
            <option value="countdown">â±ï¸ ØªÙ†Ø§Ø²Ù„ÙŠ (Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ)</option>
            <option value="countup">â²ï¸ ØªØµØ§Ø¹Ø¯ÙŠ (Ø¥ÙŠÙ‚Ø§Ù Ø¹Ù†Ø¯ Ø­Ø¯ Ù…Ø¹ÙŠÙ†)</option>
            <option value="stopwatch">â±ï¸ Ø³Ø§Ø¹Ø© Ø¥ÙŠÙ‚Ø§Ù (Ù…Ø¤Ù‚Øª Ù…ÙØªÙˆØ­)</option>
          </select>
        </div>
        
        <div class="setting-group mobile-input">
          <label class="setting-label mobile-label">
            <span>â°</span>
            <span>Ù…Ø¯Ø© Ø§Ù„Ù…Ø¤Ù‚Øª</span>
          </label>
          <select class="timer-select touch-target" id="timerDuration">
            <option value="30">30 Ø«Ø§Ù†ÙŠØ©</option>
            <option value="60">1 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="120">2 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="180">3 Ø¯Ù‚Ø§Ø¦Ù‚</option>
            <option value="300" selected>5 Ø¯Ù‚Ø§Ø¦Ù‚</option>
            <option value="600">10 Ø¯Ù‚Ø§Ø¦Ù‚</option>
            <option value="900">15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="1200">20 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="1800">30 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="2700">45 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="3600">60 Ø¯Ù‚ÙŠÙ‚Ø©</option>
          </select>
        </div>
      </div>

      <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ -->
      <div class="preset-times mobile-buttons">
        <button class="preset-btn touch-target mobile-btn" data-time="30">30 Ø«Ø§Ù†ÙŠØ©</button>
        <button class="preset-btn touch-target mobile-btn" data-time="60">1 Ø¯Ù‚ÙŠÙ‚Ø©</button>
        <button class="preset-btn touch-target mobile-btn" data-time="120">2 Ø¯Ù‚ÙŠÙ‚Ø©</button>
        <button class="preset-btn touch-target mobile-btn" data-time="180">3 Ø¯Ù‚Ø§Ø¦Ù‚</button>
        <button class="preset-btn touch-target mobile-btn" data-time="300">5 Ø¯Ù‚Ø§Ø¦Ù‚</button>
        <button class="preset-btn touch-target mobile-btn" data-time="600">10 Ø¯Ù‚Ø§Ø¦Ù‚</button>
        <button class="preset-btn touch-target mobile-btn" data-time="1200">20 Ø¯Ù‚ÙŠÙ‚Ø©</button>
        <button class="preset-btn touch-target mobile-btn" data-time="2700">45 Ø¯Ù‚ÙŠÙ‚Ø©</button>
      </div>
    </div>

    <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¤Ù‚Øª -->
    <div class="timer-display mobile-card">
      <div class="timer-circle-container mobile-timer">
        <svg class="timer-circle" viewBox="0 0 320 320">
          <circle class="timer-bg-circle" cx="160" cy="160" r="150"/>
          <circle class="timer-progress-circle" id="progressCircle" cx="160" cy="160" r="150"/>
        </svg>
        <div class="timer-time mobile-time" id="timerTime">00:00</div>
      </div>
      
      <!-- Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø§Ù„Ø© -->
      <div class="status-indicator idle mobile-status" id="statusIndicator">
        <span id="statusIcon">â¸ï¸</span>
        <span id="statusText" class="mobile-text">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡</span>
      </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø¤Ù‚Øª -->
    <div class="timer-controls mobile-buttons">
      <button class="timer-btn start-btn touch-target mobile-btn" id="startBtn">
        <span>â–¶ï¸</span>
        <span>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¤Ù‚Øª</span>
      </button>
      <button class="timer-btn pause-btn touch-target mobile-btn" id="pauseBtn" disabled>
        <span>â¸ï¸</span>
        <span>Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</span>
      </button>
      <button class="timer-btn reset-btn touch-target mobile-btn" id="resetBtn">
        <span>ğŸ”„</span>
        <span>Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</span>
      </button>
      <button class="timer-btn sound-settings-btn touch-target mobile-btn" id="soundSettingsBtn">
        <span>ğŸ”Š</span>
        <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª</span>
      </button>
      <button class="timer-btn stop-btn touch-target mobile-btn" id="stopBtn" disabled>
        <span>â¹ï¸</span>
        <span>Ø¥ÙŠÙ‚Ø§Ù Ù†Ù‡Ø§Ø¦ÙŠ</span>
      </button>
    </div>

    <!-- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
    <div class="advanced-settings mobile-card" id="soundSettingsPanel" style="display: none;">
      <div class="settings-header">
        <h3 class="mobile-heading">
          <span>ğŸµ</span>
          <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª</span>
        </h3>
        <button class="close-sound-settings-btn touch-target" id="closeSoundSettingsBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="sound-controls mobile-toggles">
        <div class="sound-control mobile-toggle">
          <span class="sound-label mobile-label">
            <span>ğŸ””</span>
            <span>ØµÙˆØª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</span>
          </span>
          <label class="toggle-switch touch-target">
            <input type="checkbox" id="startSoundToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="sound-control mobile-toggle">
          <span class="sound-label mobile-label">
            <span>â°</span>
            <span>ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</span>
          </span>
          <label class="toggle-switch touch-target">
            <input type="checkbox" id="endSoundToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="sound-control mobile-toggle">
          <span class="sound-label mobile-label">
            <span>âš ï¸</span>
            <span>ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ±</span>
          </span>
          <label class="toggle-switch touch-target">
            <input type="checkbox" id="warningSoundToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="sound-control mobile-toggle">
          <span class="sound-label mobile-label">
            <span>ğŸ–±ï¸</span>
            <span>ØµÙˆØª Ø§Ù„Ù†Ù‚Ø±</span>
          </span>
          <label class="toggle-switch touch-target">
            <input type="checkbox" id="clickSoundToggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="volume-control mobile-input">
          <label class="sound-label mobile-label">
            <span>ğŸ”Š</span>
            <span>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª</span>
          </label>
          <input type="range" class="volume-slider touch-target" id="volumeSlider" min="0" max="100" value="70">
          <div class="volume-value mobile-text" id="volumeValue">70%</div>
        </div>
      </div>
    </div>

    <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¤Ù‚Øª -->
    <div class="timer-stats mobile-card">
      <h3 class="mobile-heading">
        <span>ğŸ“Š</span>
        <span>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¬Ù„Ø³Ø©</span>
      </h3>
      
      <div class="stats-grid mobile-grid">
        <div class="stat-item mobile-stat">
          <div class="stat-number mobile-number" id="totalSessions">0</div>
          <div class="stat-label mobile-text">Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª</div>
        </div>
        <div class="stat-item mobile-stat">
          <div class="stat-number mobile-number" id="totalTime">00:00</div>
          <div class="stat-label mobile-text">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆÙ‚Øª</div>
        </div>
        <div class="stat-item mobile-stat">
          <div class="stat-number mobile-number" id="averageTime">00:00</div>
          <div class="stat-label mobile-text">Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª</div>
        </div>
        <div class="stat-item mobile-stat">
          <div class="stat-number mobile-number" id="completedSessions">0</div>
          <div class="stat-label mobile-text">Ù…ÙƒØªÙ…Ù„Ø©</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ -->
  <div class="completion-modal" id="completionModal">
    <div class="modal-content">
      <h2 class="modal-title">
        <span>ğŸ‰</span>
        <span>Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!</span>
      </h2>
      <p class="modal-message" id="modalMessage">
        ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨Ù†Ø¬Ø§Ø­! Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¨Ø¯Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ
      </p>
      <div class="modal-buttons">
        <button class="modal-btn primary" id="newSessionBtn">
          <span>ğŸ”„ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©</span>
        </button>
        <button class="modal-btn secondary" id="closeModalBtn">
          <span>âœ… Ø¥ØºÙ„Ø§Ù‚</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª -->
  <audio id="startSound" src="../assets/media/sounds/start-timer.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="endSound" src="../assets/media/sounds/end-timer.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="warningSound" src="../assets/media/sounds/countdown-beep.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="clickSound" src="../assets/media/sounds/Click.mp3" preload="auto" aria-hidden="true"></audio>

  <script>
    console.log('â±ï¸ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ...');

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª
    let timerInterval = null;
    let warningInterval = null;
    let currentMode = 'countdown';
    let duration = 300; // 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    let timeLeft = 300;
    let elapsed = 0;
    let isRunning = false;
    let isPaused = false;
    let isFinished = false;
    let finalSoundStarted = false; // Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø¯Ø¡ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (10 Ø«ÙˆØ§Ù†)

    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª
    let audioSettings = {
      volume: 0.7,
      startSound: true,
      endSound: true,
      warningSound: true,
      clickSound: true,
      masterMute: false
    };

    // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
    let sessionStats = {
      totalSessions: 0,
      completedSessions: 0,
      totalTime: 0,
      sessions: []
    };

    // Ø¹Ù†Ø§ØµØ± DOM
    const elements = {
      // Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
      timerMode: document.getElementById('timerMode'),
      timerDuration: document.getElementById('timerDuration'),
      timerTime: document.getElementById('timerTime'),
      progressCircle: document.getElementById('progressCircle'),
      statusIndicator: document.getElementById('statusIndicator'),
      statusIcon: document.getElementById('statusIcon'),
      statusText: document.getElementById('statusText'),
      
      // Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      startBtn: document.getElementById('startBtn'),
      pauseBtn: document.getElementById('pauseBtn'),
      resetBtn: document.getElementById('resetBtn'),
      stopBtn: document.getElementById('stopBtn'),
      backBtn: document.getElementById('backBtn'),
      fullscreenBtn: document.getElementById('fullscreenBtn'),
      soundToggleBtn: document.getElementById('soundToggleBtn'),
      
      // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      startSoundToggle: document.getElementById('startSoundToggle'),
      endSoundToggle: document.getElementById('endSoundToggle'),
      warningSoundToggle: document.getElementById('warningSoundToggle'),
      clickSoundToggle: document.getElementById('clickSoundToggle'),
      volumeSlider: document.getElementById('volumeSlider'),
      volumeValue: document.getElementById('volumeValue'),
      
      // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      totalSessions: document.getElementById('totalSessions'),
      totalTime: document.getElementById('totalTime'),
      averageTime: document.getElementById('averageTime'),
      completedSessions: document.getElementById('completedSessions'),
      
      // Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
      completionModal: document.getElementById('completionModal'),
      modalMessage: document.getElementById('modalMessage'),
      newSessionBtn: document.getElementById('newSessionBtn'),
      closeModalBtn: document.getElementById('closeModalBtn'),
      
      // Ø§Ù„Ø£ØµÙˆØ§Øª
      startSound: document.getElementById('startSound'),
      endSound: document.getElementById('endSound'),
      warningSound: document.getElementById('warningSound'),
      clickSound: document.getElementById('clickSound')
    };

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    function playSound(soundElement, soundType = 'general') {
      try {
        if (audioSettings.masterMute) return;

        const soundEnabled = {
          'start': audioSettings.startSound,
          'end': audioSettings.endSound,
          'warning': audioSettings.warningSound,
          'click': audioSettings.clickSound,
          'general': true
        };

        if (!soundEnabled[soundType]) return;

        if (soundElement && soundElement.readyState >= 2) {
          soundElement.currentTime = 0;
          soundElement.volume = audioSettings.volume;
          const playPromise = soundElement.play();
          if (playPromise !== undefined) {
            playPromise.catch(() => {
              console.log('ğŸ”‡ ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª (ÙŠØªØ·Ù„Ø¨ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)');
            });
          }
        }
      } catch (error) {
        console.log('ğŸ”‡ Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
      }
    }

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù†Ù‚Ø±
    function addClickEffect(element) {
      element.style.transform = 'scale(0.95)';
      setTimeout(() => {
        element.style.transform = '';
      }, 150);
    }

    // Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª
    function toggleSoundSettings() {
      const panel = elements.soundSettingsPanel;
      const btn = elements.soundSettingsBtn;
      
      if (panel.style.display === 'none' || !panel.style.display) {
        showSoundSettings();
      } else {
        hideSoundSettings();
      }
    }

    function showSoundSettings() {
      const panel = elements.soundSettingsPanel;
      const btn = elements.soundSettingsBtn;
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù„ÙˆØ­Ø©
      panel.style.display = 'block';
      panel.style.opacity = '0';
      panel.style.transform = 'translateY(-20px)';
      
      // ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø±
      btn.classList.add('active');
      
      // Ø±Ø³ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© Ù„Ù„Ø¸Ù‡ÙˆØ±
      setTimeout(() => {
        panel.style.transition = 'all 0.3s ease-out';
        panel.style.opacity = '1';
        panel.style.transform = 'translateY(0)';
      }, 10);
    }

    function hideSoundSettings() {
      const panel = elements.soundSettingsPanel;
      const btn = elements.soundSettingsBtn;
      
      // Ø±Ø³ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© Ù„Ù„Ø§Ø®ØªÙØ§Ø¡
      panel.style.transition = 'all 0.3s ease-in';
      panel.style.opacity = '0';
      panel.style.transform = 'translateY(-20px)';
      
      // Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø²Ø±
      btn.classList.remove('active');
      
      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù„ÙˆØ­Ø©
      setTimeout(() => {
        panel.style.display = 'none';
      }, 300);
    }

    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
    function handleOutsideClick(e) {
      const panel = document.getElementById('soundSettingsPanel');
      const btn = document.getElementById('soundSettingsBtn');
      
      if (panel && panel.style.display !== 'none' && 
          !panel.contains(e.target) && 
          !btn.contains(e.target)) {
        hideSoundSettings();
      }
    }

    // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª
    function formatTime(seconds) {
      const hours = Math.floor(seconds / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      
      if (hours > 0) {
        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }
      return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
    function updateDisplay() {
      let displayTime;
      let progress;

      switch (currentMode) {
        case 'countdown':
          displayTime = timeLeft;
          progress = (duration - timeLeft) / duration;
          break;
        case 'countup':
          displayTime = elapsed;
          progress = elapsed / duration;
          break;
        case 'stopwatch':
          displayTime = elapsed;
          progress = 0; // Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù Ù„Ø§ ØªØ­ØªØ§Ø¬ ØªÙ‚Ø¯Ù…
          break;
      }

      elements.timerTime.textContent = formatTime(displayTime);
      
      // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ØªÙ‚Ø¯Ù…
      if (currentMode !== 'stopwatch') {
        const circumference = 2 * Math.PI * 150;
        const offset = circumference * (1 - progress);
        elements.progressCircle.style.strokeDasharray = circumference;
        elements.progressCircle.style.strokeDashoffset = offset;
      } else {
        // Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù - Ø¯Ø§Ø¦Ø±Ø© ÙƒØ§Ù…Ù„Ø©
        elements.progressCircle.style.strokeDasharray = '0';
        elements.progressCircle.style.strokeDashoffset = '0';
      }

      // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø°ÙŠØ±
      updateWarningStates();
    }

    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ø°ÙŠØ±
    function updateWarningStates() {
      // Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª
      elements.timerTime.classList.remove('warning', 'danger');
      elements.progressCircle.classList.remove('warning', 'danger');

      if (currentMode === 'countdown' && isRunning) {
        if (timeLeft <= 10 && timeLeft > 0) {
          elements.timerTime.classList.add('danger');
          elements.progressCircle.classList.add('danger');
        } else if (timeLeft <= 30) {
          elements.timerTime.classList.add('warning');
          elements.progressCircle.classList.add('warning');
        }
      }
    }

    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¤Ù‚Øª
    function updateStatus(status, text, icon) {
      elements.statusIndicator.classList.remove('idle', 'running', 'paused', 'finished');
      elements.statusIndicator.classList.add(status);
      elements.statusText.textContent = text;
      elements.statusIcon.textContent = icon;
    }

    // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
    function updateControls() {
      if (isRunning && !isPaused) {
        elements.startBtn.disabled = true;
        elements.pauseBtn.disabled = false;
        elements.pauseBtn.innerHTML = '<span>â¸ï¸</span><span>Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</span>';
        elements.pauseBtn.className = 'timer-btn pause-btn';
        elements.stopBtn.disabled = false;
      } else if (isPaused) {
        elements.startBtn.disabled = true;
        elements.pauseBtn.disabled = false;
        elements.pauseBtn.innerHTML = '<span>â–¶ï¸</span><span>Ø§Ø³ØªÙƒÙ…Ø§Ù„</span>';
        elements.pauseBtn.className = 'timer-btn resume-btn';
        elements.stopBtn.disabled = false;
      } else {
        elements.startBtn.disabled = isFinished;
        elements.pauseBtn.disabled = true;
        elements.pauseBtn.innerHTML = '<span>â¸ï¸</span><span>Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</span>';
        elements.pauseBtn.className = 'timer-btn pause-btn';
        elements.stopBtn.disabled = true;
      }
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
    function startTimer() {
      if (isRunning) return;

      isRunning = true;
      isPaused = false;
      isFinished = false;

      updateStatus('running', 'Ø§Ù„Ù…Ø¤Ù‚Øª ÙŠØ¹Ù…Ù„', 'â–¶ï¸');
      updateControls();
      
      playSound(elements.startSound, 'start');
      addSoundWave();

      timerInterval = setInterval(() => {
        updateTimer();
      }, 1000);

      // Ø¨Ø¯Ø¡ Ø£ØµÙˆØ§Øª Ø§Ù„ØªØ­Ø°ÙŠØ± Ù„Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
      if (currentMode === 'countdown') {
        startWarningSound();
      }

      console.log(`ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª - Ø§Ù„Ù†Ù…Ø·: ${currentMode}, Ø§Ù„Ù…Ø¯Ø©: ${duration}s`);
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¤Ù‚Øª
    function updateTimer() {
      switch (currentMode) {
        case 'countdown':
          timeLeft--;
          
          // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ± (countdown-beep.mp3) ÙÙŠ Ø¢Ø®Ø± 10 Ø«ÙˆØ§Ù†
          if (timeLeft === 10 && !finalSoundStarted && duration > 10) {
            finalSoundStarted = true;
            playSound(elements.warningSound, 'warning');
            console.log('âš ï¸ Ø¨Ø¯Ø¡ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ± - 10 Ø«ÙˆØ§Ù† Ù…ØªØ¨Ù‚ÙŠØ©');
          }
          
          if (timeLeft <= 0) {
            completeTimer();
            return;
          }
          break;
        case 'countup':
          elapsed++;
          
          // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ± (countdown-beep.mp3) ÙÙŠ Ø¢Ø®Ø± 10 Ø«ÙˆØ§Ù† Ù„Ù„Ø¹Ø¯ Ø§Ù„ØªØµØ§Ø¹Ø¯ÙŠ
          if (elapsed === duration - 10 && !finalSoundStarted && duration > 10) {
            finalSoundStarted = true;
            playSound(elements.warningSound, 'warning');
            console.log('âš ï¸ Ø¨Ø¯Ø¡ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ± - 10 Ø«ÙˆØ§Ù† Ù…ØªØ¨Ù‚ÙŠØ©');
          }
          
          if (elapsed >= duration) {
            completeTimer();
            return;
          }
          break;
        case 'stopwatch':
          elapsed++;
          break;
      }

      updateDisplay();
    }

    // Ø¥ÙŠÙ‚Ø§Ù/Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª
    function togglePause() {
      if (!isRunning) return;

      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      playSound(elements.clickSound, 'click');

      if (isPaused) {
        // Ø§Ø³ØªÙƒÙ…Ø§Ù„
        isPaused = false;
        updateStatus('running', 'Ø§Ù„Ù…Ø¤Ù‚Øª ÙŠØ¹Ù…Ù„', 'â–¶ï¸');
        
        timerInterval = setInterval(() => {
          updateTimer();
        }, 1000);

        if (currentMode === 'countdown') {
          startWarningSound();
        }

        console.log('â–¶ï¸ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª');
      } else {
        // Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
        isPaused = true;
        clearInterval(timerInterval);
        clearInterval(warningInterval);
        
        updateStatus('paused', 'Ø§Ù„Ù…Ø¤Ù‚Øª Ù…ØªÙˆÙ‚Ù Ù…Ø¤Ù‚ØªØ§Ù‹', 'â¸ï¸');
        console.log('â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª Ù…Ø¤Ù‚ØªØ§Ù‹');
      }

      updateControls();
    }

    // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
    function stopAllSounds() {
      [elements.startSound, elements.endSound, elements.warningSound, elements.clickSound]
        .forEach(audio => {
          if (audio && !audio.paused) {
            audio.pause();
            audio.currentTime = 0;
          }
        });
      
      // ÙˆÙ‚Ù Ø§Ù„ÙÙˆØ§ØµÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù„Ù„Ø£ØµÙˆØ§Øª
      clearInterval(warningInterval);
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù
      finalSoundStarted = false;
      
      console.log('ğŸ”‡ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„ÙÙˆØ§ØµÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ©');
    }

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
    function resetTimer() {
      clearInterval(timerInterval);
      clearInterval(warningInterval);
      
      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      
      isRunning = false;
      isPaused = false;
      isFinished = false;
      finalSoundStarted = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
      timeLeft = duration;
      elapsed = 0;

      updateDisplay();
      updateStatus('idle', 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡', 'â¸ï¸');
      updateControls();
      
      playSound(elements.clickSound, 'click');
      console.log('ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª');
    }

    // Ø¥ÙŠÙ‚Ø§Ù Ù†Ù‡Ø§Ø¦ÙŠ
    function stopTimer() {
      if (!isRunning && !isPaused) return;

      clearInterval(timerInterval);
      clearInterval(warningInterval);
      
      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      
      isRunning = false;
      isPaused = false;
      isFinished = true;
      finalSoundStarted = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

      // Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© (ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©)
      saveSession(false);

      updateStatus('finished', 'ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª', 'â¹ï¸');
      updateControls();
      
      playSound(elements.clickSound, 'click');
      console.log('â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹');
    }

    // Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª
    function completeTimer() {
      clearInterval(timerInterval);
      clearInterval(warningInterval);
      
      // ÙˆÙ‚Ù Ø£ØµÙˆØ§Øª Ø§Ù„ØªØ­Ø°ÙŠØ±
      if (elements.warningSound && !elements.warningSound.paused) {
        elements.warningSound.pause();
        elements.warningSound.currentTime = 0;
      }
      
      isRunning = false;
      isPaused = false;
      isFinished = true;

      updateDisplay();
      updateStatus('finished', 'Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!', 'â°');
      updateControls();

      // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (end-timer.mp3) Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
      playSound(elements.endSound, 'end');
      console.log('ğŸ‰ ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª');
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø­ØªÙØ§Ù„
      addCelebrationEffect();

      // Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© (Ù…ÙƒØªÙ…Ù„Ø©)
      saveSession(true);

      // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
      showCompletionModal();

      console.log('ğŸ‰ ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨Ù†Ø¬Ø§Ø­!');
    }

    // Ø¨Ø¯Ø¡ ØµÙˆØª Ø§Ù„ØªØ­Ø°ÙŠØ±
    function startWarningSound() {
      clearInterval(warningInterval);
      
      warningInterval = setInterval(() => {
        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª ÙÙ‚Ø· ÙÙŠ Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ 5ØŒ 4ØŒ 3ØŒ 2ØŒ 1 (Ù„ÙŠØ³ 10 Ù„Ø£Ù†Ù‡ Ù…Ø®ØµØµ Ù„Ù„ØµÙˆØª Ø§Ù„Ø·ÙˆÙŠÙ„)
        if (isRunning && !isPaused && 
            (timeLeft === 5 || timeLeft === 4 || 
             timeLeft === 3 || timeLeft === 2 || timeLeft === 1)) {
          playSound(elements.warningSound, 'warning');
          console.log(`âš ï¸ ØªØ­Ø°ÙŠØ± Ù‚ØµÙŠØ±: ${timeLeft} Ø«Ø§Ù†ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©`);
        }
      }, 1000);
    }

    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ù…ÙˆØ¬Ø© Ø§Ù„ØµÙˆØª
    function addSoundWave() {
      const wave = document.createElement('div');
      wave.className = 'sound-wave';
      elements.timerTime.parentElement.appendChild(wave);
      
      setTimeout(() => {
        wave.remove();
      }, 1000);
    }

    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø­ØªÙØ§Ù„
    function addCelebrationEffect() {
      elements.timerTime.parentElement.classList.add('celebrating');
      setTimeout(() => {
        elements.timerTime.parentElement.classList.remove('celebrating');
      }, 1000);
    }

    // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
    function saveSession(completed) {
      const session = {
        mode: currentMode,
        duration: duration,
        timeSpent: currentMode === 'countdown' ? duration - timeLeft : elapsed,
        completed: completed,
        timestamp: new Date()
      };

      sessionStats.sessions.push(session);
      sessionStats.totalSessions++;
      if (completed) {
        sessionStats.completedSessions++;
      }
      sessionStats.totalTime += session.timeSpent;

      updateStatsDisplay();
      
      // Ø­ÙØ¸ ÙÙŠ localStorage
      localStorage.setItem('timerStats', JSON.stringify(sessionStats));
    }

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStatsDisplay() {
      elements.totalSessions.textContent = sessionStats.totalSessions;
      elements.completedSessions.textContent = sessionStats.completedSessions;
      elements.totalTime.textContent = formatTime(sessionStats.totalTime);
      
      const averageTime = sessionStats.totalSessions > 0 ? 
        Math.floor(sessionStats.totalTime / sessionStats.totalSessions) : 0;
      elements.averageTime.textContent = formatTime(averageTime);
    }

    // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
    function showCompletionModal() {
      const modeText = {
        'countdown': 'Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ',
        'countup': 'Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªØµØ§Ø¹Ø¯ÙŠ', 
        'stopwatch': 'Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù'
      };

      elements.modalMessage.textContent = 
        `ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ ${modeText[currentMode]} Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚: ${formatTime(currentMode === 'countdown' ? duration : elapsed)}`;
      
      elements.completionModal.classList.add('show');
      
      // Ø¥ØºÙ„Ø§Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†
      setTimeout(() => {
        if (elements.completionModal.classList.contains('show')) {
          closeCompletionModal();
        }
      }, 10000);
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„
    function closeCompletionModal() {
      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      
      elements.completionModal.classList.remove('show');
      playSound(elements.clickSound, 'click');
    }

    // Ø¨Ø¯Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©
    function startNewSession() {
      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      
      closeCompletionModal();
      resetTimer();
      setTimeout(() => {
        startTimer();
      }, 500);
    }
    // ØªØºÙŠÙŠØ± Ù†Ù…Ø· Ø§Ù„Ù…Ø¤Ù‚Øª
    function changeMode() {
      const newMode = elements.timerMode.value;
      if (newMode !== currentMode) {
        // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
        stopAllSounds();
        
        currentMode = newMode;
        finalSoundStarted = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        resetTimer();
        playSound(elements.clickSound, 'click');
        
        const modeNames = {
          'countdown': 'Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ',
          'countup': 'Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªØµØ§Ø¹Ø¯ÙŠ',
          'stopwatch': 'Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù'
        };
        
        console.log(`ğŸ”„ ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ù…Ø· Ø¥Ù„Ù‰: ${modeNames[currentMode]}`);
      }
    }

    // ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¯Ø©
    function changeDuration() {
      const newDuration = parseInt(elements.timerDuration.value);
      if (newDuration !== duration) {
        // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
        stopAllSounds();
        
        duration = newDuration;
        finalSoundStarted = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        resetTimer();
        playSound(elements.clickSound, 'click');
        console.log(`â° ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¯Ø© Ø¥Ù„Ù‰: ${duration}s`);
      }
    }

    // ØªØ¹ÙŠÙŠÙ† ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹
    function setPresetTime(seconds) {
      // ÙˆÙ‚Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ØµÙˆØ§Øª
      stopAllSounds();
      
      duration = seconds;
      finalSoundStarted = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ØµÙˆØª Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
      elements.timerDuration.value = seconds;
      resetTimer();
      playSound(elements.clickSound, 'click');
      console.log(`âš¡ ØªØ¹ÙŠÙŠÙ† ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹: ${seconds}s`);
    }

    // ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª
    function updateAudioSettings() {
      audioSettings.volume = parseInt(elements.volumeSlider.value) / 100;
      elements.volumeValue.textContent = `${parseInt(elements.volumeSlider.value)}%`;
      
      audioSettings.startSound = elements.startSoundToggle.checked;
      audioSettings.endSound = elements.endSoundToggle.checked;
      audioSettings.warningSound = elements.warningSoundToggle.checked;
      audioSettings.clickSound = elements.clickSoundToggle.checked;
      
      // ØªØ·Ø¨ÙŠÙ‚ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª
      [elements.startSound, elements.endSound, elements.warningSound, elements.clickSound]
        .forEach(audio => {
          if (audio) audio.volume = audioSettings.volume;
        });
      
      console.log('ğŸ”Š ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª:', audioSettings);
    }

    // ØªØ¨Ø¯ÙŠÙ„ ÙƒØªÙ… Ø§Ù„ØµÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
    function toggleMasterMute() {
      audioSettings.masterMute = !audioSettings.masterMute;
      elements.soundToggleBtn.textContent = audioSettings.masterMute ? 'ğŸ”‡' : 'ğŸ”Š';
      elements.soundToggleBtn.title = audioSettings.masterMute ? 'ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª' : 'ÙƒØªÙ… Ø§Ù„ØµÙˆØª';
      
      playSound(elements.clickSound, 'click');
      console.log(`ğŸ”Š Ø§Ù„ØµÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: ${audioSettings.masterMute ? 'Ù…ÙƒØªÙˆÙ…' : 'Ù…ÙØ¹Ù„'}`);
    }

    // ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©
    async function toggleFullScreen() {
      try {
        if (!document.fullscreenElement) {
          await document.documentElement.requestFullscreen();
          console.log('ğŸ–¥ï¸ ØªÙ… ØªÙØ¹ÙŠÙ„ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©');
        } else {
          await document.exitFullscreen();
          console.log('ğŸ–¥ï¸ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©');
        }
        playSound(elements.clickSound, 'click');
      } catch (error) {
        console.warn('âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØºÙŠÙŠØ± ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©:', error);
      }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
    function loadStats() {
      try {
        const savedStats = localStorage.getItem('timerStats');
        if (savedStats) {
          sessionStats = JSON.parse(savedStats);
          updateStatsDisplay();
        }
      } catch (error) {
        console.warn('âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);
      }
    }

    // Ù…Ø³Ø­ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function clearStats() {
      if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªØŸ\nÙ‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) {
        sessionStats = {
          totalSessions: 0,
          completedSessions: 0,
          totalTime: 0,
          sessions: []
        };
        updateStatsDisplay();
        localStorage.removeItem('timerStats');
        playSound(elements.clickSound, 'click');
        console.log('ğŸ—‘ï¸ ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø¤Ù‚Øª
    function initializeTimer() {
      console.log('âš¡ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØµÙÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ...');
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      loadStats();
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      updateAudioSettings();
      
      // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ø£ÙˆÙ„ÙŠ
      resetTimer();
      
      console.log('ğŸ‰ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨Ù†Ø¬Ø§Ø­!');
    }

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    document.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸ“„ ØªÙ… ØªØ­Ù…ÙŠÙ„ DOM - Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«...');
      
      // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø¤Ù‚Øª
      initializeTimer();

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      elements.startBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        playSound(elements.clickSound, 'click');
        startTimer();
      });

      elements.pauseBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        togglePause();
      });

      elements.resetBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        resetTimer();
      });

      elements.stopBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        stopTimer();
      });

      // Ø²Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª
      elements.soundSettingsBtn = document.getElementById('soundSettingsBtn');
      elements.soundSettingsPanel = document.getElementById('soundSettingsPanel');
      elements.closeSoundSettingsBtn = document.getElementById('closeSoundSettingsBtn');

      elements.soundSettingsBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        playSound(elements.clickSound, 'click');
        toggleSoundSettings();
      });

      elements.closeSoundSettingsBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        playSound(elements.clickSound, 'click');
        hideSoundSettings();
      });

      // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      document.addEventListener('click', handleOutsideClick);

      // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
      elements.timerMode.addEventListener('change', changeMode);
      elements.timerDuration.addEventListener('change', changeDuration);

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
      document.querySelectorAll('.preset-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          addClickEffect(e.target);
          const time = parseInt(e.target.dataset.time);
          setPresetTime(time);
        });
      });

      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª
      elements.volumeSlider.addEventListener('input', updateAudioSettings);
      elements.startSoundToggle.addEventListener('change', updateAudioSettings);
      elements.endSoundToggle.addEventListener('change', updateAudioSettings);
      elements.warningSoundToggle.addEventListener('change', updateAudioSettings);
      elements.clickSoundToggle.addEventListener('change', updateAudioSettings);

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
      elements.backBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        playSound(elements.clickSound, 'click');
        
        // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ¹Ù…Ù„
        if (isRunning) {
          stopTimer();
        }
        
        // ØªØ£Ø«ÙŠØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³
        document.body.style.opacity = '0';
        document.body.style.transform = 'scale(0.95)';
        
        setTimeout(() => {
          window.location.href = '../main.html';
        }, 300);
      });

      elements.fullscreenBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        toggleFullScreen();
      });

      elements.soundToggleBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        toggleMasterMute();
      });

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
      elements.newSessionBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        startNewSession();
      });

      elements.closeModalBtn.addEventListener('click', (e) => {
        addClickEffect(e.target);
        closeCompletionModal();
      });

      // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
      elements.completionModal.addEventListener('click', (e) => {
        if (e.target === elements.completionModal) {
          closeCompletionModal();
        }
      });

      // Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
      document.addEventListener('keydown', (e) => {
        switch(e.key) {
          case 'Enter':
          case ' ':
            e.preventDefault();
            if (!isRunning && !isPaused) {
              elements.startBtn.click();
            } else if (isRunning || isPaused) {
              elements.pauseBtn.click();
            }
            break;
          case 'Escape':
            if (elements.completionModal.classList.contains('show')) {
              closeCompletionModal();
            } else if (isRunning || isPaused) {
              elements.stopBtn.click();
            } else if (document.fullscreenElement) {
              document.exitFullscreen();
            }
            break;
          case 'r':
          case 'R':
            if (e.ctrlKey || e.metaKey) {
              e.preventDefault();
              elements.resetBtn.click();
            }
            break;
          case 'F11':
            e.preventDefault();
            toggleFullScreen();
            break;
          case 'm':
          case 'M':
            if (e.ctrlKey || e.metaKey) {
              e.preventDefault();
              toggleMasterMute();
            }
            break;
          case 's':
          case 'S':
            if (e.ctrlKey || e.metaKey) {
              e.preventDefault();
              if (isRunning || isPaused) {
                elements.stopBtn.click();
              }
            }
            break;
        }
      });

      // Ù…Ø³Ø­ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¨Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
      elements.totalSessions.addEventListener('dblclick', clearStats);

      console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ù†Ø¬Ø§Ø­!');
    });

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…Ø©
    window.addEventListener('error', (e) => {
      console.error('ğŸ’¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø¤Ù‚Øª:', e.error);
    });

    window.addEventListener('unhandledrejection', (e) => {
      console.error('ğŸ’¥ Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø§Ù„Ø¬ ÙÙŠ Promise:', e.reason);
    });

    // ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('beforeunload', () => {
      clearInterval(timerInterval);
      clearInterval(warningInterval);
    });

    // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª Ø¹Ù†Ø¯ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ØªØ±ÙƒÙŠØ²
    window.addEventListener('blur', () => {
      if (isRunning && !isPaused) {
        togglePause();
        console.log('âš ï¸ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª Ù…Ø¤Ù‚ØªØ§Ù‹ Ø¨Ø³Ø¨Ø¨ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ØªØ±ÙƒÙŠØ²');
      }
    });

    console.log('ğŸ“ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ù„Ù„Ù…Ø¤Ù‚Øª!');
  </script>
  
  <!-- Responsive Helper Script -->
  <script src="../assets/js/responsive-helper.js"></script>
</body>
</html>
